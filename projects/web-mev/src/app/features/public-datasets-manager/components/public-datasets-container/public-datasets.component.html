<mev-spinner-overlay *ngIf="isLoading"></mev-spinner-overlay>
<mat-drawer-container class="filter-container" autosize>
    <mat-drawer #drawer class="filter-sidenav" mode="side" [opened]="currentDataset.length>0"
        *ngIf="currentDataset !== '' ">
        <div class="sideContainer">
            <div *ngFor="let item of storageDataSet[currentDataset] | keyvalue">
                <mev-checkbox *ngIf="altStorage[currentDataset][item.key]['altQuery'] === ''; else elseBlock" [info]='item'
                    [alt]='altStorage[currentDataset]' [currentDataset]="currentDataset" version="1"></mev-checkbox>
                <ng-template #elseBlock>
                    <mev-checkbox *ngIf="altStorage[currentDataset][item.key]" [info]='item'
                        [alt]='altStorage[currentDataset]' [currentDataset]="currentDataset" version="2">
                    </mev-checkbox>
                </ng-template>
            </div>
            <br>
            <div *ngFor="let item of sliderStorage[currentDataset] | keyvalue">
                <mev-slider [info]='item' [currentDataset]="currentDataset" [category]="item.key"
                    [countNum]="sliderStorage[currentDataset][item.key]['count']" (childEvent)="setSliderValue($event)">
                </mev-slider>
            </div>
            <br>
        </div>
    </mat-drawer>

    <div class="filter-sidenav-content">
        <ng-container *ngIf="currentDataset === ''">
            <mev-public-datasets-list (datasetSelectedEvent)="setDataset($event)"></mev-public-datasets-list>
        </ng-container>

        <div *ngIf="currentDataset !== ''" id="go-back" (click)="backToBrowse()">
            <mat-icon class="nav__icon" aria-label="Back to datasets">reply</mat-icon>
            <span class="nav__text">Back to browsing datasets</span>
        </div>

        <ng-container *ngIf="currentDataset === 'tcga-rnaseq'">
            <tcga-rnaseq-explorer [query]="searchQueryResults"></tcga-rnaseq-explorer>
        </ng-container>

        <ng-container *ngIf="currentDataset === 'target-rnaseq'">
            <target-rnaseq-explorer [query]="searchQueryResults"></target-rnaseq-explorer>
        </ng-container>

        <ng-container *ngIf="currentDataset === 'gtex-rnaseq'">
            <gtex-rnaseq-explorer [query]="searchQueryResults"></gtex-rnaseq-explorer>
        </ng-container>

    </div>

</mat-drawer-container>