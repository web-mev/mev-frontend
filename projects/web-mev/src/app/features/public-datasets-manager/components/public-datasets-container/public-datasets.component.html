<!-- <mev-spinner-overlay *ngIf="isLoading"></mev-spinner-overlay> -->
<mat-drawer-container class="filter-container" autosize>
    <mat-drawer #drawer class="filter-sidenav" mode="side" [opened]="currentDataset.length>0"
        *ngIf="currentDataset !== '' ">
        <!-- <button type="button" mat-button (click)="drawer.toggle()">Toggle sidenav</button> -->
        <div class="sideContainer">
            <!-- <h1>{{currentDataset}}</h1> -->
            <div *ngFor="let item of storageDataSet[currentDataset] | keyvalue">
                <!-- <h2>{{item.key}}</h2> -->
                <mev-checkbox *ngIf="item.key === 'gender'" [info]='item' title="Gender"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Ethnicity" *ngIf="item.key === 'ethnicity'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Vital Status" *ngIf="item.key === 'vital_status'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Race" *ngIf="item.key === 'race'" [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="COG Renal Stage" *ngIf="item.key === 'cog_renal_stage'"
                    [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="Last Known Disease Status"
                    *ngIf="item.key === 'last_known_disease_status'" [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Morphology" *ngIf="item.key === 'morphology'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Primary Diagnosis" *ngIf="item.key === 'primary_diagnosis'"
                    [currentDataset]="currentDataset">
                </mev-checkbox>
                <!-- <mev-checkbox [info]='item' title="Progression or Recurrence"
                    *ngIf="item.key === 'progression_or_recurrence'" [currentDataset]="currentDataset"></mev-checkbox> -->
                <mev-checkbox [info]='item' title="Site of Resection or Biopsy"
                    *ngIf="item.key === 'site_of_resection_or_biopsy'" [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Tissue or Organ of Origin"
                    *ngIf="item.key === 'tissue_or_organ_of_origin'" [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Dbgap Accession Number" *ngIf="item.key === 'dbgap_accession_number'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Disease Type" *ngIf="item.key === 'disease_type'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Name" *ngIf="item.key === 'name'" [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="Primary Site" *ngIf="item.key === 'primary_site'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Project ID" *ngIf="item.key === 'project_id'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <!-- <mev-checkbox [info]='item' title="Tumor Grade" *ngIf="item.key === 'tumor_grade'"
                    [currentDataset]="currentDataset"></mev-checkbox> -->
                <mev-checkbox [info]='item' title="ajcc_pathologic_m" *ngIf="item.key === 'ajcc_pathologic_m'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="ajcc_pathologic_n" *ngIf="item.key === 'ajcc_pathologic_n'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="ajcc_pathologic_stage" *ngIf="item.key === 'ajcc_pathologic_stage'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="ajcc_pathologic_t" *ngIf="item.key === 'ajcc_pathologic_t'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="ajcc_staging_system_edition"
                    *ngIf="item.key === 'ajcc_staging_system_edition'" [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="alcohol_history" *ngIf="item.key === 'alcohol_history'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <!-- <mev-checkbox [info]='item' title="classification_of_tumor"
                    *ngIf="item.key === 'classification_of_tumor'" [currentDataset]="currentDataset"></mev-checkbox> -->
                <!-- <mev-checkbox [info]='item' title="days_to_diagnosis" *ngIf="item.key === 'days_to_diagnosis'"
                    [currentDataset]="currentDataset"></mev-checkbox> -->
                <mev-checkbox [info]='item' title="icd_10_code" *ngIf="item.key === 'icd_10_code'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="prior_malignancy" *ngIf="item.key === 'prior_malignancy'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="prior_treatment" *ngIf="item.key === 'prior_treatment'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="synchronous_malignancy" *ngIf="item.key === 'synchronous_malignancy'"
                    [currentDataset]="currentDataset"></mev-checkbox>

                <!-- checkboxes for GTEX items. will add later. -->
                <mev-checkbox [info]='item' title="Age Range" *ngIf="item.key === 'age_range'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="collection_site_code" *ngIf="item.key === 'collection_site_code'"
                    [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="expression_batch" *ngIf="item.key === 'expression_batch'"
                    [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="hardy_scale_death" *ngIf="item.key === 'hardy_scale_death'"
                    [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="nucleic_acid_isolation_batch"
                    *ngIf="item.key === 'nucleic_acid_isolation_batch'" [currentDataset]="currentDataset">
                </mev-checkbox>
                <!-- <mev-checkbox [info]='item' title="Kit" *ngIf="item.key === 'kit'" [currentDataset]="currentDataset">
                </mev-checkbox> -->
                <mev-checkbox [info]='item' title="RNA Rin" *ngIf="item.key === 'rna_rin'"
                    [currentDataset]="currentDataset"></mev-checkbox>
                <mev-checkbox [info]='item' title="Sex" *ngIf="item.key === 'sex'" [currentDataset]="currentDataset">
                </mev-checkbox>
                <mev-checkbox [info]='item' title="tissue" *ngIf="item.key === 'tissue'"
                    [currentDataset]="currentDataset"></mev-checkbox>

            </div>
            <br>
            <div *ngFor="let item of sliderStorage[currentDataset] | keyvalue">
                <mev-slider *ngIf="item.key === 'age_at_diagnosis'" [info]='item' [currentDataset]="currentDataset"
                    [countNum]="sliderStorage[currentDataset][item.key]['count']" (childEvent)="setSliderValue($event)">
                </mev-slider>
                <mev-slider *ngIf="item.key === 'year_of_birth'" [info]='item' [currentDataset]="currentDataset"
                    [countNum]="sliderStorage[currentDataset][item.key]['count']" (childEvent)="setSliderValue($event)">
                </mev-slider>
                <mev-slider *ngIf="item.key === 'days_to_last_follow_up'" [info]='item'
                    [currentDataset]="currentDataset" [countNum]="sliderStorage[currentDataset][item.key]['count']"
                    (childEvent)="setSliderValue($event)"></mev-slider>
                <mev-slider *ngIf="item.key === 'year_of_diagnosis'" [info]='item' [currentDataset]="currentDataset"
                    [countNum]="sliderStorage[currentDataset][item.key]['count']" (childEvent)="setSliderValue($event)">
                </mev-slider>
                <mev-slider *ngIf="item.key === 'age_at_index'" [info]='item' [currentDataset]="currentDataset"
                    [countNum]="sliderStorage[currentDataset][item.key]['count']" (childEvent)="setSliderValue($event)">
                </mev-slider>
                <mev-slider *ngIf="item.key === 'days_to_birth'" [info]='item' [currentDataset]="currentDataset"
                    [countNum]="sliderStorage[currentDataset][item.key]['count']" (childEvent)="setSliderValue($event)">
                </mev-slider>
            </div>
            <br>
            <!-- <button mat-raised-button color="accent" (click)="filterData(currentDataset)">Search</button> -->
        </div>
    </mat-drawer>

    <div class="filter-sidenav-content">
        <ng-container *ngIf="currentDataset === ''">
            <mev-public-datasets-list (datasetSelectedEvent)="setDataset($event)"></mev-public-datasets-list>
        </ng-container>

        <div *ngIf="currentDataset !== ''" id="go-back" (click)="backToBrowse()">
            <mat-icon class="nav__icon" aria-label="Back to datasets">reply</mat-icon>
            <span class="nav__text">Back to browsing datasets</span>
        </div>

        <ng-container *ngIf="currentDataset === 'tcga-rnaseq'">
            <tcga-rnaseq-explorer [query]="searchQueryResults"></tcga-rnaseq-explorer>
        </ng-container>

        <ng-container *ngIf="currentDataset === 'target-rnaseq'">
            <target-rnaseq-explorer [query]="searchQueryResults"></target-rnaseq-explorer>
        </ng-container>

        <ng-container *ngIf="currentDataset === 'gtex-rnaseq'">
            <gtex-rnaseq-explorer [query]="searchQueryResults"></gtex-rnaseq-explorer>
        </ng-container>

    </div>

</mat-drawer-container>