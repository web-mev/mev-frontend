<mev-spinner-overlay *ngIf="isLoading"></mev-spinner-overlay>
<mat-drawer-container class="filter-container" autosize>
    <mat-drawer #drawer class="filter-sidenav" mode="side" [opened]="currentDataset.length>0">
        <!-- <button type="button" mat-button (click)="drawer.toggle()">Toggle sidenav</button> -->
        <div class="sideContainer">
            <span>
                <div *ngFor="let item of filterItems | keyvalue">
                    <section class="example-section" [(formGroup)]="target">
                        <ul>
                            <li>
                                <div class="checkBoxTitle">{{item.key}}: </div>
                            </li>
                            <li *ngFor="let cat of item.value | keyvalue">
                                <mat-checkbox formControlName={{cat.key}}>{{cat.key}} ({{cat.value}})</mat-checkbox>
                            </li>
                        </ul>
                    </section>
                </div>
                
            </span>
            <button mat-raised-button color="accent" (click)="addToQuery(filterItems, currentDataset)">Search</button>
        </div>

    </mat-drawer>

    <div class="filter-sidenav-content">
        <ng-container *ngIf="currentDataset === ''">
            <mev-public-datasets-list (datasetSelectedEvent)="setDataset($event)"></mev-public-datasets-list>
        </ng-container>

        <div *ngIf="currentDataset !== ''" id="go-back" (click)="backToBrowse()">
            <mat-icon class="nav__icon" aria-label="Back to datasets">reply</mat-icon>
            <span class="nav__text">Back to browsing datasets</span>
        </div>

        <ng-container *ngIf="currentDataset === 'tcga-rnaseq'">
            <tcga-rnaseq-explorer></tcga-rnaseq-explorer>
        </ng-container>

        <ng-container *ngIf="currentDataset === 'target-rnaseq'">
            <target-rnaseq-explorer></target-rnaseq-explorer>
        </ng-container>

        <ng-container *ngIf="currentDataset === 'gtex-rnaseq'">
            <gtex-rnaseq-explorer></gtex-rnaseq-explorer>
        </ng-container>

    </div>

</mat-drawer-container>